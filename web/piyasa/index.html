<!-- âœ… index.html -->
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ana Sayfa | QuantumTrade</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <style>
    /* (stil kodlarÄ± aynÄ±, deÄŸiÅŸiklik yok) */
    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background-color: #000;
      color: #ffd700;
    }
    header {
      background-color: #111;
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 2px solid #ffd700;
    }
    .logo {
      font-size: 24px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #ffd700;
    }
    .logo img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
    }
    nav ul {
      display: flex;
      list-style: none;
      padding: 0;
      margin: 0;
      gap: 20px;
    }
    nav a {
      text-decoration: none;
      color: #ffd700;
      transition: color 0.3s ease, border-bottom 0.3s ease;
      -webkit-tap-highlight-color: transparent;
    }
    nav a:hover, nav a:focus, nav a:active, nav a:visited {
      color: #ffd700;
      border-bottom: 2px solid #ffd700;
      outline: none;
    }
    nav a.active {
      color: #ffd700;
      border-bottom: 2px solid #ffd700;
    }
    .news-ticker {
      background: #222;
      overflow: hidden;
      white-space: nowrap;
      border-top: 1px solid #444;
      border-bottom: 1px solid #444;
      position: relative;
      padding: 10px 0;
    }

    .ticker-content {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 300s linear infinite;
      color: #ffd700;
      font-size: 16px;
    }

    @keyframes ticker {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Kayan haberler iÃ§in hover efekti */
    .news-ticker:hover .ticker-content {
      animation-play-state: paused;
    }

    /* Kayan haberler iÃ§in gÃ¶lge efekti */
    .news-ticker::before,
    .news-ticker::after {
      content: '';
      position: absolute;
      top: 0;
      width: 100px;
      height: 100%;
      z-index: 2;
    }

    .news-ticker::before {
      left: 0;
      background: linear-gradient(to right, #222, transparent);
    }

    .news-ticker::after {
      right: 0;
      background: linear-gradient(to left, #222, transparent);
    }
    main {
      padding: 40px 20px;
      animation: fadeIn 1.5s ease-in-out;
    }
    footer {
      text-align: center;
      padding: 20px;
      background-color: #111;
      border-top: 2px solid #ffd700;
      color: #888;
    }
    .section {
      margin: 50px auto;
      max-width: 1000px;
      padding: 30px;
      border: 1px solid #333;
      border-radius: 10px;
      background-color: #111;
    }
    .market-dashboard {
      display: flex;
      justify-content: space-around;
      gap: 20px;
      font-size: 1.2rem;
    }
    .coin {
      background: #000;
      padding: 10px 20px;
      border-radius: 10px;
      border: 1px solid #444;
    }
    .testimonials {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .testimonial {
      background: #000;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #444;
      font-size: 0.9rem;
    }
    .stats {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
      font-size: 1.2rem;
    }
    .login-section {
      max-width: 400px;
      margin: 60px auto;
      background: #111;
      padding: 40px;
      border-radius: 12px;
      border: 1px solid #444;
      text-align: center;
    }
    .login-section input,
    .login-section button {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border-radius: 8px;
    }
    .login-section input {
      background: #000;
      border: 1px solid #333;
      color: #ffd700;
    }
    .login-section button {
      background: #ffd700;
      color: #000;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }
    .login-section button:hover {
      background: #fff;
    }
    .login-section .links {
      display: flex;
      justify-content: space-between;
      font-size: 0.9rem;
    }
    .login-section .links a {
      color: #ffd700;
      text-decoration: none;
    }
    .login-section .links a:hover {
      text-decoration: underline;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    /* DÃ¶nen Kartanesi Stilleri */
    .snowflake-decoration {
        position: fixed; /* Sabit konumda kalÄ±r */
        top: 50%; /* SayfanÄ±n ortasÄ± dikeyde */
        transform: translateY(-50%); /* Kendi yÃ¼ksekliÄŸinin yarÄ±sÄ± kadar yukarÄ± kaydÄ±rarak tam ortala */
        font-size: 4rem; /* Kartanesi boyutu */
        color: #ffd700; /* AltÄ±n sarÄ±sÄ± renk */
        z-index: 10; /* DiÄŸer elementlerin Ã¼zerinde gÃ¶rÃ¼nÃ¼r */
        animation: spin-snowflake 15s linear infinite; /* DÃ¶nme animasyonu */
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); /* Hafif parlama */
    }

    .snowflake-decoration.left {
        left: 20px; /* Soldan boÅŸluk */
    }

    .snowflake-decoration.right {
        right: 20px; /* SaÄŸdan boÅŸluk */
    }

    @keyframes spin-snowflake {
        from { transform: translateY(-50%) rotate(0deg); }
        to { transform: translateY(-50%) rotate(360deg); }
    }

    /* KÃ¼Ã§Ã¼k ekranlarda gizle veya kÃ¼Ã§Ã¼lt (isteÄŸe baÄŸlÄ±) */
    @media (max-width: 768px) {
        .snowflake-decoration {
            font-size: 2rem; /* KÃ¼Ã§Ã¼k ekranlarda boyutu kÃ¼Ã§Ã¼lt */
            /* Veya tamamen gizlemek iÃ§in display: none; */
        }
        .snowflake-decoration.left {
            left: 10px;
        }
        .snowflake-decoration.right {
            right: 10px;
        }
    }

    .market-data {
      background: #1a1a1a;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      border: 2px solid #333;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.1);
    }

    .crypto-items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      padding: 10px;
    }

    .crypto-item {
      background: #1a1a1a;
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      position: relative;
      overflow: hidden;
      border: 1px solid #333;
      transition: all 0.3s ease;
    }

    .crypto-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
      transform: translateX(-100%);
      transition: transform 0.5s ease;
    }

    .crypto-item:hover::before {
      transform: translateX(100%);
    }

    .crypto-item.positive {
      border-color: #4CAF50;
      box-shadow: 0 0 15px rgba(76, 175, 80, 0.2);
    }

    .crypto-item.negative {
      border-color: #f44336;
      box-shadow: 0 0 15px rgba(244, 67, 54, 0.2);
    }

    .crypto-item.flash-positive {
      animation: flashGreen 1s ease;
    }

    .crypto-item.flash-negative {
      animation: flashRed 1s ease;
    }

    @keyframes flashGreen {
      0% { background-color: rgba(76, 175, 80, 0.2); }
      100% { background-color: #1a1a1a; }
    }

    @keyframes flashRed {
      0% { background-color: rgba(244, 67, 54, 0.2); }
      100% { background-color: #1a1a1a; }
    }

    .crypto-name {
      color: #ffd700;
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .crypto-price {
      color: #fff;
      font-size: 24px;
      margin-bottom: 5px;
      font-family: 'Orbitron', sans-serif;
    }

    .crypto-change {
      font-size: 16px;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      font-weight: bold;
    }

    .crypto-change.positive {
      color: #4CAF50;
      background: rgba(76, 175, 80, 0.1);
    }

    .crypto-change.negative {
      color: #f44336;
      background: rgba(244, 67, 54, 0.1);
    }

    .crypto-volume {
      color: #888;
      font-size: 14px;
      margin-top: 5px;
    }

    .news-container {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      padding: 20px;
      scrollbar-width: thin;
      scrollbar-color: #ffd700 #222;
      -webkit-overflow-scrolling: touch;
    }

    .news-container::-webkit-scrollbar {
      height: 8px;
    }

    .news-container::-webkit-scrollbar-track {
      background: #222;
      border-radius: 4px;
    }

    .news-container::-webkit-scrollbar-thumb {
      background-color: #ffd700;
      border-radius: 4px;
    }

    .news-item {
      min-width: 300px;
      max-width: 300px;
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 0;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      flex-shrink: 0;
      overflow: hidden;
    }

    .news-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.1);
    }

    .news-image {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-bottom: 1px solid #333;
    }

    .news-content {
      padding: 20px;
    }

    .news-item h4 {
      color: #ffd700;
      margin-bottom: 10px;
      font-size: 18px;
      line-height: 1.4;
    }

    .news-item p {
      color: #fff;
      margin-bottom: 15px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .news-item .news-meta {
      display: flex;
      justify-content: space-between;
      color: #888;
      font-size: 14px;
      margin-top: auto;
    }

    .news-item a {
      color: #ffd700;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease;
      display: inline-block;
      margin-top: 10px;
    }

    .news-item a:hover {
      color: #ffed4a;
    }

    .news-source {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .news-source img {
      width: 20px;
      height: 20px;
      border-radius: 50%;
    }

    .loading-news {
      text-align: center;
      padding: 40px;
      color: #ffd700;
      font-size: 18px;
    }

    .error-message {
      text-align: center;
      padding: 20px;
      color: #ff4444;
      background: rgba(255, 68, 68, 0.1);
      border-radius: 10px;
      margin: 20px;
    }

    .thinking-animation {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin: 20px 0;
    }

    .thinking-animation .dot {
      width: 12px;
      height: 12px;
      background: #ffd700;
      border-radius: 50%;
      animation: bounce 1.4s infinite ease-in-out;
    }

    .thinking-animation .dot:nth-child(1) { animation-delay: -0.32s; }
    .thinking-animation .dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes bounce {
      0%, 80%, 100% { transform: scale(0); }
      40% { transform: scale(1); }
    }

    /* Kartanesi iÃ§in yeni stiller */
    .snowflake-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 30px 0;
      position: relative;
    }

    .snowflake {
      width: 100px;
      height: 100px;
      position: relative;
      animation: spin 8s linear infinite;
      filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));
    }

    .snowflake::before,
    .snowflake::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      background: 
        linear-gradient(45deg, transparent 45%, #ffd700 45%, #ffd700 55%, transparent 55%),
        linear-gradient(-45deg, transparent 45%, #ffd700 45%, #ffd700 55%, transparent 55%),
        linear-gradient(90deg, transparent 45%, #ffd700 45%, #ffd700 55%, transparent 55%),
        linear-gradient(0deg, transparent 45%, #ffd700 45%, #ffd700 55%, transparent 55%);
      background-size: 100% 100%;
      animation: glow 2s ease-in-out infinite alternate;
    }

    .snowflake::after {
      transform: translate(-50%, -50%) rotate(45deg);
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes glow {
      0% {
        filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
      }
      100% {
        filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8));
      }
    }

    .snowflake::before {
      animation: glow 2s ease-in-out infinite alternate-reverse;
    }
  </style>
</head>
<body class="page-index">
  <!-- DÃ¶nen Kartanesi - Sol -->
  <div class="snowflake-decoration left">
    <i class="fas fa-snowflake"></i>
  </div>

  <!-- DÃ¶nen Kartanesi - SaÄŸ -->
  <div class="snowflake-decoration right">
    <i class="fas fa-snowflake"></i>
  </div>

  <header>
    <div class="logo">
      <img src="8ebfb1e03919fc6bae62be4740f0282e.jpg" alt="QuantumTrade Logo">
      <span style="color: #ffd700;">QuantumTrade</span> <span  style="font-weight: 400; font-size: 16px; color: #ccc;">"The world is yours"</span>
    </div>
    <nav>
      <ul>
        <li><a href="index.html" class="active">Ana Sayfa</a></li>
        <li><a href="piyasa.html">Piyasa</a></li>
        <li><a href="profilim.html">Profilim</a></li>
        <li><a href="satinal.html">AI Asistan<div class="menu-snowflake"></div></a></li>
        <li id="auth-section">
          <a href="login.html" class="login-link">GiriÅŸ Yap</a>
          <div class="user-menu" style="display: none;">
            <div class="user-avatar"></div>
            <div class="user-dropdown">
              <a href="profilim.html">Profilim</a>
              <a href="#" onclick="logout()">Ã‡Ä±kÄ±ÅŸ Yap</a>
            </div>
          </div>
        </li>
      </ul>
    </nav>
  </header>

  <div class="news-ticker">
    <div class="ticker-content" id="ticker-content">
      ðŸ“¢ Haberler yÃ¼kleniyor...
    </div>
  </div>

  <main>
    <div class="container">
      <!-- Kartanesi -->
      <div class="snowflake-container">
        <div class="snowflake"></div>
      </div>

      <div class="section">
        <h2 style="text-align:center;">AnlÄ±k Piyasa Verileri</h2>
        <div class="market-data">
          <div class="crypto-items">
            <div class="crypto-item" id="btc-data">
              <div class="crypto-name">BTC/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="eth-data">
              <div class="crypto-name">ETH/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="bnb-data">
              <div class="crypto-name">BNB/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="xrp-data">
              <div class="crypto-name">XRP/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="ada-data">
              <div class="crypto-name">ADA/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="sol-data">
              <div class="crypto-name">SOL/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="dot-data">
              <div class="crypto-name">DOT/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="doge-data">
              <div class="crypto-name">DOGE/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="avax-data">
              <div class="crypto-name">AVAX/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
            <div class="crypto-item" id="matic-data">
              <div class="crypto-name">MATIC/USDT</div>
              <div class="crypto-price">$0.00</div>
              <div class="crypto-change">0.00%</div>
              <div class="crypto-volume">Hacim: $0</div>
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 style="text-align:center;">Kripto Para Haberleri</h2>
        <div class="news-container" id="news-container">
          <div class="loading-news">
            <div class="thinking-animation">
              <div class="dot"></div>
              <div class="dot"></div>
              <div class="dot"></div>
            </div>
            Haberler yÃ¼kleniyor...
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>Â© 2025 QuantumTrade â€¢ TÃ¼m HaklarÄ± SaklÄ±dÄ±r</p>
  </footer>

  <script>
    const links = document.querySelectorAll("nav a");
    const currentPage = location.pathname.split("/").pop();
    links.forEach(link => {
      if (link.getAttribute("href") === currentPage) {
        link.classList.add("active");
      }
    });

    // KullanÄ±cÄ± kontrolÃ¼ ve avatar gÃ¶sterimi
    function checkUser() {
      const userString = localStorage.getItem('user');
      const loginLink = document.querySelector('.login-link');
      const userMenu = document.querySelector('.user-menu');
      const userAvatar = document.querySelector('.user-avatar');

      if (userString) {
        const user = JSON.parse(userString);
        loginLink.style.display = 'none';
        userMenu.style.display = 'block';
        userAvatar.textContent = user.username.charAt(0);
      } else {
        loginLink.style.display = 'block';
        userMenu.style.display = 'none';
      }
    }

    // Ã‡Ä±kÄ±ÅŸ yapma fonksiyonu
    function logout() {
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      window.location.href = 'login.html';
    }

    // AnlÄ±k piyasa verilerini gÃ¼ncelle
    function updateMarketData() {
      const symbols = [
        'BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'XRPUSDT', 'ADAUSDT', 
        'SOLUSDT', 'DOTUSDT', 'DOGEUSDT', 'AVAXUSDT', 'MATICUSDT'
      ];
      
      symbols.forEach(symbol => {
        fetch(`http://localhost:3000/api/market/live-ticker?symbol=${symbol}`)
          .then(response => response.json())
          .then(data => {
            const price = parseFloat(data.price).toFixed(2);
            const change = parseFloat(data.change).toFixed(2);
            const volume = parseFloat(data.volume || 0).toFixed(0);
            const element = document.getElementById(`${symbol.toLowerCase().replace('usdt', '')}-data`);
            
            if (element) {
              const oldPrice = parseFloat(element.querySelector('.crypto-price').textContent.replace('$', ''));
              const newPrice = parseFloat(price);
              
              element.querySelector('.crypto-price').textContent = `$${price}`;
              const changeElement = element.querySelector('.crypto-change');
              changeElement.textContent = `${change}%`;
              
              // Fiyat deÄŸiÅŸimine gÃ¶re sÄ±nÄ±flarÄ± gÃ¼ncelle
              element.className = `crypto-item ${change >= 0 ? 'positive' : 'negative'}`;
              changeElement.className = `crypto-change ${change >= 0 ? 'positive' : 'negative'}`;
              
              // Fiyat deÄŸiÅŸimine gÃ¶re yanÄ±p sÃ¶nme efekti
              if (oldPrice !== 0) {
                if (newPrice > oldPrice) {
                  element.classList.add('flash-positive');
                  setTimeout(() => element.classList.remove('flash-positive'), 1000);
                } else if (newPrice < oldPrice) {
                  element.classList.add('flash-negative');
                  setTimeout(() => element.classList.remove('flash-negative'), 1000);
                }
              }
              
              // Hacim bilgisini gÃ¼ncelle
              element.querySelector('.crypto-volume').textContent = `Hacim: $${volume}`;
            }
          })
          .catch(error => {
            console.error(`${symbol} verisi Ã§ekilemedi:`, error);
            // Hata durumunda Binance API'sine fallback
            fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${symbol}`)
              .then(response => response.json())
              .then(data => {
                const price = parseFloat(data.lastPrice).toFixed(2);
                const change = parseFloat(data.priceChangePercent).toFixed(2);
                const volume = parseFloat(data.volume).toFixed(0);
                const element = document.getElementById(`${symbol.toLowerCase().replace('usdt', '')}-data`);
                
                if (element) {
                  element.querySelector('.crypto-price').textContent = `$${price}`;
                  const changeElement = element.querySelector('.crypto-change');
                  changeElement.textContent = `${change}%`;
                  element.className = `crypto-item ${change >= 0 ? 'positive' : 'negative'}`;
                  changeElement.className = `crypto-change ${change >= 0 ? 'positive' : 'negative'}`;
                  element.querySelector('.crypto-volume').textContent = `Hacim: $${volume}`;
                }
              })
              .catch(error => console.error(`${symbol} fallback verisi de Ã§ekilemedi:`, error));
          });
      });
    }

    // Kripto haberlerini gÃ¼ncelle
    async function updateNews() {
      const newsContainer = document.getElementById('news-container');
      const tickerContent = document.getElementById('ticker-content');
      
      if (!newsContainer || !tickerContent) {
        console.error('Gerekli elementler bulunamadÄ±');
        return;
      }

      try {
        // YÃ¼kleniyor durumunu gÃ¶ster
        newsContainer.innerHTML = `
          <div class="loading-news">
            <div class="thinking-animation">
              <div class="dot"></div>
              <div class="dot"></div>
              <div class="dot"></div>
            </div>
            Haberler yÃ¼kleniyor...
          </div>
        `;

        tickerContent.textContent = 'ðŸ“¢ Haberler yÃ¼kleniyor...';

        const response = await fetch('https://min-api.cryptocompare.com/data/v2/news/?lang=TR');
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        const news = data.Data;
        
        if (news && news.length > 0) {
          // Haber kartlarÄ±nÄ± gÃ¼ncelle
          newsContainer.innerHTML = news.map(item => `
            <div class="news-item">
              <img src="${item.imageurl || 'https://via.placeholder.com/300x180?text=Haber+GÃ¶rseli'}" 
                   alt="${item.title}"
                   class="news-image"
                   onerror="this.src='https://via.placeholder.com/300x180?text=Haber+GÃ¶rseli'">
              <div class="news-content">
                <h4>${item.title}</h4>
                <p>${item.body || ''}</p>
                <div class="news-meta">
                  <span>${new Date(item.published_on * 1000).toLocaleDateString('tr-TR')}</span>
                  <div class="news-source">
                    <img src="${item.source_info?.img || 'https://via.placeholder.com/20x20?text=Source'}" 
                         alt="${item.source}"
                         onerror="this.src='https://via.placeholder.com/20x20?text=Source'">
                    <span>${item.source}</span>
                  </div>
                </div>
                <a href="${item.url}" target="_blank">DevamÄ±nÄ± Oku</a>
              </div>
            </div>
          `).join('');

          // Kayan haberleri gÃ¼ncelle
          const tickerNews = news.map(item => `ðŸ“° ${item.title}`).join(' â€¢ ');
          tickerContent.textContent = `${tickerNews} â€¢ ${tickerNews}`;
        } else {
          throw new Error('Haber bulunamadÄ±');
        }
      } catch (error) {
        console.error('Haberler yÃ¼klenirken hata:', error);
        newsContainer.innerHTML = `
          <div class="error-message">
            Haberler yÃ¼klenirken bir hata oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyin.
            <br>
            <small>${error.message}</small>
          </div>
        `;
        tickerContent.textContent = 'ðŸ“¢ Haberler yÃ¼klenemedi';
      }
    }

    // Her 5 dakikada bir haberleri gÃ¼ncelle
    setInterval(updateNews, 300000);

    // Sayfa yÃ¼klendiÄŸinde ilk verileri Ã§ek
    document.addEventListener('DOMContentLoaded', () => {
      checkUser();
      updateMarketData();
      updateNews();
    });
  </script>
  <script src="main.js"></script>
</body>
</html>
